webpackJsonp([9],{RZqN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),o=a.n(n),c=a("VBGv"),s=a("m8uU"),i=a("PkiJ"),l=a("/gXw"),u=a("raJt"),d={id:0,contact_id:0,contact:u.a,post_id:0,post:u.a,start_date:"",end_date:"",note:""},r=a("FxBo"),m=a("OOvn"),b={name:"EducationItem",components:{"bulma-input":c.a,"bulma-button":s.a,"bulma-select":i.a,"bulma-date":l.a},mixins:[r.a],data:function(){return{title:"",education:d,contacts:[u.a],posts:[u.a]}},mounted:function(){this.fetchData()},methods:{submit:function(){var t=this,e="educations",a="POST";"0"!==this.$route.params.id&&(e=e+"/"+this.$route.params.id,a="PUT");var n=this.education;Object(m.a)({url:e,method:a,mode:"cors",data:o()(n)}).then(function(){t.close()})},close:function(){this.$router.push("/educations")},delete:function(){},fetchData:function(){this.fetchItem("educations",["education","contacts","posts"],!0)},onSelect:function(t,e){this.education[e]=t,this.education[e+"_id"]=t.id},afterFetch:function(){this.setSelect("education","contacts","contact","contact_id"),this.setSelect("education","posts","post","post_id")}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mw768"},[a("form",{attrs:{model:t.education,id:"education"}},[a("bulma-select",{attrs:{list:t.contacts,"selected-item":t.education.contact,label:"Полное имя обучаемого","item-name":"contact",iconLeft:"user"},on:{select:t.onSelect}}),t._v(" "),a("bulma-select",{attrs:{list:t.posts,"selected-item":t.education.post,label:"Должность ГО ЧС","item-name":"post",iconLeft:"tag"},on:{select:t.onSelect}}),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("bulma-date",{attrs:{label:"Дата начала обучения"},model:{value:t.education.start_date,callback:function(e){t.$set(t.education,"start_date",e)},expression:"education.start_date"}})],1),t._v(" "),a("div",{staticClass:"column"},[a("bulma-date",{attrs:{label:"Дата конца обучения"},model:{value:t.education.end_date,callback:function(e){t.$set(t.education,"end_date",e)},expression:"education.end_date"}})],1)]),t._v(" "),a("bulma-input",{attrs:{type:"text",label:"Заметка",placeholder:"Заметка",iconLeft:"comment"},model:{value:t.education.note,callback:function(e){t.$set(t.education,"note",e)},expression:"education.note"}}),t._v(" "),a("div",{staticClass:"field is-grouped is-grouped-centered"},[a("div",{staticClass:"control"},[a("bulma-button",{attrs:{text:"Сохранить",color:"primary"},on:{click:t.submit}})],1),t._v(" "),a("div",{staticClass:"control"},[a("bulma-button",{attrs:{text:"Закрыть"},on:{click:t.close}})],1),t._v(" "),a("div",{staticClass:"control"},[a("bulma-button",{attrs:{text:"Удалить",color:"danger",onclick:"return confirm('Вы действительно хотите удалить эту запись?');"}})],1)])],1)])},staticRenderFns:[]};var p=a("VU/8")(b,f,!1,function(t){a("XosA")},"data-v-19c7d093",null);e.default=p.exports},XosA:function(t,e){}});
//# sourceMappingURL=9.78d4201a7810cd0b0b82.js.map