(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CertificateItem"],{"0036":function(t,e,c){"use strict";c("7514"),c("ac6a");var i=c("8daa");e["a"]={data:function(){return{fetched:!1,list:[]}},methods:{fetchItem:function(t,e,c){var a=this;this.fetched||Object(i["a"])({url:"".concat(t,"/").concat(this.$route.params.id),method:"GET"}).then(function(t){e.forEach(function(e){a[e]=t.data[e]}),a.fetched=!0,c&&a.afterFetch()})},setSelect:function(t,e,c,i){var a=this;this[t][c]=this[e].find(function(e){return e.id===a[t][i]})}}}},"0a49":function(t,e,c){var i=c("9b43"),a=c("626a"),n=c("4bf8"),r=c("9def"),o=c("cd1c");t.exports=function(t,e){var c=1==t,s=2==t,u=3==t,f=4==t,l=6==t,d=5==t||l,m=e||o;return function(e,o,h){for(var b,p,v=n(e),y=a(v),x=i(o,h,3),_=r(y.length),w=0,g=c?m(e,_):s?m(e,0):void 0;_>w;w++)if((d||w in y)&&(b=y[w],p=x(b,w,v),t))if(c)g[w]=p;else if(p)switch(t){case 3:return!0;case 5:return b;case 6:return w;case 2:g.push(b)}else if(f)return!1;return l?-1:u||f?f:g}}},1169:function(t,e,c){var i=c("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},7514:function(t,e,c){"use strict";var i=c("5ca1"),a=c("0a49")(5),n="find",r=!0;n in[]&&Array(1)[n](function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),c("9c6c")(n)},"9b6e":function(t,e,c){},c682:function(t,e,c){"use strict";c.r(e);var i=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"container mw768"},[c("form",{attrs:{model:t.certificate,id:"certificate"}},[c("bulma-input",{attrs:{label:"",placeholder:"Серийный номер удостоверения",iconLeft:"tag"},model:{value:t.certificate.num,callback:function(e){t.$set(t.certificate,"num",e)},expression:"certificate.num"}}),c("bulma-select",{attrs:{list:t.contacts,"selected-item":t.certificate.contact,"item-name":"contact",label:"Полное имя",iconLeft:"user"},on:{select:t.onSelect}}),c("bulma-select",{attrs:{list:t.companies,"selected-item":t.certificate.company,"item-name":"company",label:"Учебно методический центр",iconLeft:"building"},on:{select:t.onSelect}}),c("bulma-date",{attrs:{label:"Дата выдачи"},model:{value:t.certificate.cert_date,callback:function(e){t.$set(t.certificate,"cert_date",e)},expression:"certificate.cert_date"}}),c("bulma-input",{attrs:{label:"",placeholder:"Заметка",iconLeft:"comment"},model:{value:t.certificate.note,callback:function(e){t.$set(t.certificate,"note",e)},expression:"certificate.note"}}),c("div",{staticClass:"field is-grouped is-grouped-centered"},[c("div",{staticClass:"control"},[c("bulma-button",{attrs:{text:"Сохранить",color:"primary"},on:{click:t.submit}})],1),c("div",{staticClass:"control"},[c("bulma-button",{attrs:{text:"Закрыть"},on:{click:t.close}})],1),c("div",{staticClass:"control"},[c("bulma-button",{attrs:{text:"Удалить",color:"danger",onclick:"return confirm('Вы действительно хотите удалить эту запись?');"}})],1)])],1)])},a=[],n=c("e04f"),r=c("e653"),o=c("ce02"),s=c("2bd6"),u=c("7234"),f={id:0,num:"",contact_id:0,contact:u["a"],company_id:0,company:u["a"],cert_date:"",note:""},l=c("8daa"),d=c("0036"),m={name:"CertificateItem",components:{"bulma-input":n["a"],"bulma-button":r["a"],"bulma-select":o["a"],"bulma-date":s["a"]},mixins:[d["a"]],data:function(){return{title:"",certificate:f,contacts:[u["a"]],companies:[u["a"]]}},mounted:function(){this.fetchData()},methods:{onSelect:function(t,e){this.certificate[e]=t,this.certificate["".concat(e,"_id")]=t.id},submit:function(){var t=this,e="certificates",c="POST";"0"!==this.$route.params.id&&(e="".concat(e,"/").concat(this.$route.params.id),c="PUT");var i=this.certificate;Object(l["a"])({url:e,method:c,mode:"cors",data:JSON.stringify(i)}).then(function(){t.close()})},close:function(){this.$router.push("/certificates")},delete:function(){},fetchData:function(){this.fetchItem("certificates",["certificate","contacts","companies"])}}},h=m,b=(c("d42a"),c("2877")),p=Object(b["a"])(h,i,a,!1,null,"dc96b29e",null);p.options.__file="CertificateItem.vue";e["default"]=p.exports},cd1c:function(t,e,c){var i=c("e853");t.exports=function(t,e){return new(i(t))(e)}},d42a:function(t,e,c){"use strict";var i=c("9b6e"),a=c.n(i);a.a},e853:function(t,e,c){var i=c("d3f4"),a=c("1169"),n=c("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),i(e)&&(e=e[n],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=CertificateItem.c5ddffd1.js.map